<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalkulator miejsca</title>
<style>
  body { font-family: Arial; text-align: center; background: #f7f7f7; margin: 20px; }
  h1 { color: #1a73e8; }
  input { width: 70px; text-align: center; margin-left: 5px; }
  button {
    background: #1a73e8; color: white; border: none;
    padding: 8px 15px; border-radius: 6px; margin-top: 10px; font-weight: bold;
  }

  .trailer {
    margin: 20px auto; border: 3px solid #555; border-radius: 10px;
    background: white; width: 95%; max-width: 750px; padding: 10px;
  }

  .row {
    display: flex; justify-content: flex-start;
    align-items: center;
    height: 60px;
    margin: 3px 0;
  }

  .pallet {
    border: 2px solid black;
    margin: 1px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 18px;
    color: #000;
  }

  .wybita { background: #2196F3; }   /* niebieski */
  .euro { background: #4CAF50; }     /* zielony */
  .mix { background: #FFEB3B; }      /* Å¼Ã³Å‚ty */

  .stats {
    background: #fff;
    padding: 10px;
    display: inline-block;
    border-radius: 8px;
    text-align: left;
  }
</style>
</head>
<body>

<h1>ğŸš› Kalkulator miejsca</h1>
<p>Oblicz ukÅ‚ad palet na naczepie (13.6 m)</p>

<div>
  ğŸªµ Wybite: <input type="number" id="wybite" value="4" min="0">
  ğŸ“¦ Euro: <input type="number" id="euro" value="26" min="0">
  <br><button onclick="oblicz()">OBLICZ</button>
</div>

<div id="trailer" class="trailer"></div>
<div id="info" class="stats"></div>

<script>
function oblicz() {
  const wybite = parseInt(document.getElementById('wybite').value) || 0;
  const euro = parseInt(document.getElementById('euro').value) || 0;
  const trailer = document.getElementById('trailer');
  trailer.innerHTML = '';

  let wybiteLeft = wybite;
  let euroLeft = euro;
  let dlugosc = 0;

  while (wybiteLeft > 0 || euroLeft > 0) {
    const row = document.createElement('div');
    row.className = 'row';

    // RzÄ…d wybitych
    if (wybiteLeft >= 2) {
      addPallet(row, 'wybita', 'W', 50);
      addPallet(row, 'wybita', 'W', 50);
      dlugosc += 1.0;
      wybiteLeft -= 2;
    }
    // Mieszany (1 wybita + 1 euro)
    else if (wybiteLeft === 1 && euroLeft >= 1) {
      addPallet(row, 'wybita', 'W', 50);
      addPallet(row, 'euro', 'E', 50);
      dlugosc += 1.0;
      wybiteLeft -= 1; euroLeft -= 1;
    }
    // TrÃ³jka euro
    else if (euroLeft >= 3) {
      for (let i = 0; i < 3; i++) addPallet(row, 'euro', 'E', 33);
      dlugosc += 1.2;
      euroLeft -= 3;
    }
    // DwÃ³jka euro
    else if (euroLeft === 2) {
      for (let i = 0; i < 2; i++) addPallet(row, 'euro', 'E', 50);
      dlugosc += 0.8;
      euroLeft -= 2;
    }
    // Pojedyncza
    else if (euroLeft === 1) {
      addPallet(row, 'euro', 'E', 50);
      dlugosc += 0.8;
      euroLeft -= 1;
    }

    trailer.appendChild(row);
  }

  const wolne = (13.6 - dlugosc).toFixed(1);
  const procent = Math.min((dlugosc / 13.6) * 100, 100).toFixed(0);

  document.getElementById('info').innerHTML = `
    <b>ğŸ“ ZajÄ™ta dÅ‚ugoÅ›Ä‡:</b> ${dlugosc.toFixed(1)} m<br>
    <b>ğŸŸ© Wolna dÅ‚ugoÅ›Ä‡:</b> ${wolne > 0 ? wolne : 0} m<br>
    <b>ğŸ“Š ZaÅ‚adunek:</b> ${procent}%<br><br>
    - 2 W = 1 rzÄ…d (1 m) â†’ szer. 2,45 m<br>
    - 1 W + 1 E = 1 rzÄ…d (1 m)<br>
    - 3 E = 1 rzÄ…d (1,2 m) â†’ 3 dÅ‚ugie palety<br>
    - 2 E = 1 rzÄ…d (0,8 m)<br>
    - CaÅ‚kowita dÅ‚ugoÅ›Ä‡ naczepy 13,6 m
  `;
}

function addPallet(row, type, label, widthPercent) {
  const p = document.createElement('div');
  p.className = `pallet ${type}`;
  p.textContent = label;
  p.style.flexBasis = `${widthPercent}%`;
  row.appendChild(p);
}
</script>
</body>
</html>
