<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalkulator miejsca</title>
<style>
  body {
    background-color: #111;
    color: #e0e0e0;
    font-family: "Segoe UI", sans-serif;
    text-align: center;
    margin: 0;
    padding: 20px;
  }
  h1 {
    color: #4CAF50;
  }
  input {
    width: 60px;
    text-align: center;
    margin: 5px;
    font-size: 16px;
    padding: 4px;
    border-radius: 4px;
    border: none;
  }
  button {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 8px 20px;
    border-radius: 6px;
    font-size: 16px;
    cursor: pointer;
  }
  .box {
    background-color: #1c1c1c;
    padding: 15px;
    border-radius: 10px;
    margin: 10px auto;
    width: 320px;
  }
  .info {
    color: #8be3ff;
    font-size: 15px;
    margin-top: 8px;
  }
  .truck {
    background-color: #222;
    width: 180px;
    margin: 15px auto;
    padding: 8px;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .row {
    display: flex;
    justify-content: center;
    margin: 2px 0;
  }
  .w {
    background-color: #2196F3;
    width: 75px;
    height: 22px;
    margin: 1px;
    border-radius: 3px;
  }
  .mix {
    background: linear-gradient(90deg, #2196F3 50%, #c6c31a 50%);
    width: 150px;
    height: 22px;
    margin: 1px;
    border-radius: 3px;
  }
  .e2 {
    background-color: #4CAF50;
    width: 75px;
    height: 15px;
    margin: 1px;
    border-radius: 3px;
  }
  .e3 {
    background-color: #4CAF50;
    width: 48px;
    height: 20px;
    margin: 1px;
    border-radius: 3px;
  }
  .extra {
    background-color: #162916;
    border-radius: 8px;
    padding: 10px;
    margin: 10px auto;
    width: 320px;
    color: #8fff8f;
  }
</style>
</head>
<body>

<h1>ğŸš› Kalkulator miejsca</h1>

<label>ğŸªµ Wybite: </label>
<input type="number" id="wybite" min="0" placeholder="">
<label>ğŸ“¦ Euro: </label>
<input type="number" id="euro" min="0" placeholder="">
<br>
<button onclick="oblicz()">OBLICZ</button>

<div class="box" id="instrukcja"></div>
<div class="truck" id="grafika"></div>
<div class="extra" id="extra"></div>

<script>
function oblicz() {
  const wybite = parseInt(document.getElementById('wybite').value) || 0;
  const euro = parseInt(document.getElementById('euro').value) || 0;
  const instrukcja = document.getElementById('instrukcja');
  const grafika = document.getElementById('grafika');
  const extra = document.getElementById('extra');

  grafika.innerHTML = "";
  instrukcja.innerHTML = "";
  extra.innerHTML = "";

  let rzedWybite = Math.floor(wybite / 2);
  let mieszany = wybite % 2 === 1 ? 1 : 0;
  let euroPozostale = euro;
  let rzad2 = 0, rzad3 = 0;

  if (mieszany) euroPozostale -= 1;

  while (euroPozostale >= 3) {
    euroPozostale -= 3;
    rzad3++;
  }
  if (euroPozostale === 2) rzad2++;
  else if (euroPozostale === 1 && rzad3 > 0) {
    rzad3--;
    rzad2 += 2; // 3 euro â†’ 2+2=4 z peÅ‚nym koÅ„cem
  }

  // obliczenia dÅ‚ugoÅ›ci
  let dlugosc = rzedWybite * 1.0 + mieszany * 1.0 + rzad2 * 0.8 + rzad3 * 1.2;
  let wolne = (13.6 - dlugosc).toFixed(1);
  let zaladunek = Math.min((dlugosc / 13.6) * 100, 100).toFixed(0);

  // instrukcja
  let tekst = "<b>ğŸªµ Instrukcja Å‚adowania:</b><br>";
  if (rzedWybite > 0) tekst += `${rzedWybite} rzÄ™dy wybite â€“ ${rzedWybite} m<br>`;
  if (mieszany) tekst += `1 rzÄ…d mieszany â€“ 1.0 m<br>`;
  if (rzad2 > 0) tekst += `${rzad2} rzÄ…d dwÃ³jek â€“ ${(rzad2 * 0.8).toFixed(1)} m<br>`;
  if (rzad3 > 0) tekst += `${rzad3} rzÄ™dÃ³w trÃ³jek â€“ ${(rzad3 * 1.2).toFixed(1)} m<br>`;
  tekst += `<hr><div class='info'>ğŸ”¹ ÅÄ…czna dÅ‚ugoÅ›Ä‡: ${dlugosc.toFixed(1)} m / 13.6 m<br>ğŸ”¹ Wolne: ${wolne} m<br>ğŸ”¹ ZaÅ‚adunek: ${zaladunek}%</div>`;
  instrukcja.innerHTML = tekst;

  // grafika
  if (rzedWybite > 0) for (let i = 0; i < rzedWybite; i++) grafika.innerHTML += `<div class='row'><div class='w'></div><div class='w'></div></div>`;
  if (mieszany) grafika.innerHTML += `<div class='row'><div class='mix'></div></div>`;
  if (rzad2 > 0) for (let i = 0; i < rzad2; i++) grafika.innerHTML += `<div class='row'><div class='e2'></div><div class='e2'></div></div>`;
  if (rzad3 > 0) for (let i = 0; i < rzad3; i++) grafika.innerHTML += `<div class='row'><div class='e3'></div><div class='e3'></div><div class='e3'></div></div>`;

  // propozycja doÅ‚adowania
  let extraText = "";
  if (wolne >= 1.2) {
    const zostanie = (wolne - 1.2).toFixed(1);
    extraText = `MoÅ¼na jeszcze dodaÄ‡ <b>1 rzÄ…d trÃ³jek (3 euro)</b> â€“ zostanie wtedy ${zostanie} m miejsca wolnego.`;
  } else if (wolne >= 1.0) {
    const zostanie = (wolne - 1.0).toFixed(1);
    extraText = `MoÅ¼na jeszcze dodaÄ‡ <b>1 rzÄ…d wybitych (2 wybite)</b> â€“ zostanie wtedy ${zostanie} m miejsca wolnego.`;
  } else if (wolne >= 0.8) {
    const zostanie = (wolne - 0.8).toFixed(1);
    extraText = `MoÅ¼na jeszcze dodaÄ‡ <b>1 rzÄ…d dwÃ³jek (2 euro)</b> â€“ zostanie wtedy ${zostanie} m miejsca wolnego.`;
  } else {
    extraText = `Brak miejsca na kolejne palety.`;
  }

  extra.innerHTML = `ğŸŸ© ${extraText}`;
}
</script>

</body>
</html>
